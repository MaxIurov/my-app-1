<div>
<link rel="stylesheet" href="../components/teammanager/teammanager.css">
<h1>team manager</h1>
<h2>{{selectedTeam}}</h2>
<br/>
<form name="teamForm" novalidate>

<table>
    <tr>
        <td>
            <input type="text" name="teamname" ng-model="teamName" ng-minlength="1" ng-pattern="regVal" required>
        </td>
        <td>
            <button ng-disabled="teamForm.teamname.$invalid" ng-click="addNewTeam()">Add</button>
        </td>
<!--         <td>
            <button ng-click="clearStorage()">clear all teams</button>
        </td> -->
    </tr>
<!--     <tr>
        <td colspan="2">
            <p ng-show="teamForm.teamname.$invalid && !teamForm.teamname.$pristine" class="help-block">Wrong team name!</p>
        </td>
    </tr> -->
</table>

</form>
<br/>

<div ng-repeat="team in teams | orderBy:'name'">
<div ng-class="{selected: team.id === selectedTeam}">
    <div ng-click="selectTeam(team.id)"><b><i> {{team.id}} : {{team.name}} </i></b><button ng-click="deleteTeam(team.id)">Del</button></div>
    <div ng-repeat="member in team.members | orderBy:'name'">
<!--         <a href="#" ng-click="deleteMember(team.id,member)">{{member.name}}</a> -->
        <div ng-show="team.id === selectedTeam" ng-click="deleteMember(team.id,member.id)" >
        <person-name-tooltip person="member"></person-name-tooltip>
        </div>
    </div>
    <br/>
</div>
</div>
</div>